# Movie Recap Pipeline - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# BASIC APPLICATION SETTINGS
# =============================================================================

# Application environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true for development, false for production)
DEBUG=true

# Application name and version
APP_NAME="Movie Recap Pipeline"
VERSION="1.0.0"

# Server configuration
HOST=0.0.0.0
PORT=8000

# Allowed hosts and CORS origins (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1,api.movierecap.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://movierecap.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database URL
DATABASE_URL=postgresql+asyncpg://movierecap_user:your_secure_password@localhost:5432/movierecap

# Database connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_ECHO=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URLs for different purposes
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Redis connection pool size
REDIS_POOL_SIZE=20

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Secret key for JWT tokens (CHANGE THIS IN PRODUCTION)
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-characters

# JWT algorithm and token expiration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password requirements
PASSWORD_MIN_LENGTH=8

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================

# Maximum upload size per file (12GB in bytes)
MAX_UPLOAD_SIZE=12884901888

# Maximum video duration (10 hours in seconds)
MAX_VIDEO_DURATION=36000

# Maximum script file size (1GB in bytes)
MAX_SCRIPT_SIZE=1073741824

# Maximum output video duration (5 hours in seconds)
MAX_OUTPUT_DURATION=18000

# Allowed file extensions (comma-separated)
ALLOWED_VIDEO_EXTENSIONS=.mp4,.avi,.mkv,.mov,.wmv,.flv
ALLOWED_SCRIPT_EXTENSIONS=.txt,.doc,.docx,.pdf

# =============================================================================
# GOOGLE DRIVE CONFIGURATION
# =============================================================================

# Path to Google Drive service account credentials JSON file
GOOGLE_DRIVE_CREDENTIALS_FILE=credentials/google-drive-service-account.json

# Root folder name in Google Drive
GOOGLE_DRIVE_ROOT_FOLDER=movie-recap-pipeline

# =============================================================================
# GOOGLE COLAB CONFIGURATION
# =============================================================================

# Webhook URL for Colab notifications
COLAB_WEBHOOK_URL=https://your-colab-webhook.com/webhook

# Secret for Colab webhook authentication
COLAB_WEBHOOK_SECRET=your-colab-webhook-secret-key

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Scene detection threshold (0.0-1.0)
SCENE_DETECTION_THRESHOLD=0.4

# Script alignment confidence threshold (0.0-1.0)
ALIGNMENT_CONFIDENCE_THRESHOLD=0.7

# Machine learning model cache size
ML_MODEL_CACHE_SIZE=3

# Whisper model size (tiny, base, small, medium, large)
WHISPER_MODEL_SIZE=base

# Sentence transformer model for semantic matching
SENTENCE_TRANSFORMER_MODEL=all-MiniLM-L6-v2

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limits per user
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# n8n configuration
N8N_WEBHOOK_URL=http://localhost:5678/webhook
N8N_API_URL=http://localhost:5678/api/v1
N8N_API_KEY=your-n8n-api-key

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=

# =============================================================================
# EMAIL CONFIGURATION (for notifications)
# =============================================================================

# Email settings
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@movierecap.com

# =============================================================================
# CLOUD STORAGE (BACKUP)
# =============================================================================

# AWS S3 configuration (optional, for backups)
S3_BUCKET=
S3_REGION=us-east-1
S3_ACCESS_KEY=
S3_SECRET_KEY=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_UPSCALING=true
ENABLE_WATERMARK_DETECTION=true
ENABLE_CONTENT_MODERATION=true
ENABLE_METRICS=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Testing mode
TESTING=false

# Development database (if different from production)
# DATABASE_URL_DEV=postgresql+asyncpg://dev_user:dev_password@localhost:5432/movierecap_dev

# =============================================================================
# QUOTA SETTINGS (DEFAULT VALUES)
# =============================================================================

# Default tenant quotas
DEFAULT_STORAGE_QUOTA_GB=10
DEFAULT_PROCESSING_HOURS=10
DEFAULT_JOBS_PER_MONTH=50