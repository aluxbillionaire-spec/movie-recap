# Global Multi-Region Deployment Environment Configuration
# Copy this file for each region: .env.us-east-1, .env.eu-west-1, .env.ap-southeast-1, etc.

# ============================================================================
# REGION CONFIGURATION
# ============================================================================
REGION=us-east-1
ENVIRONMENT=production

# ============================================================================ 
# DOMAIN CONFIGURATION
# ============================================================================
DOMAIN=movierecap.com
ACME_EMAIL=admin@movierecap.com

# Regional subdomains for better performance
# US East: us.movierecap.com
# EU West: eu.movierecap.com  
# Asia Pacific: ap.movierecap.com
REGIONAL_DOMAIN=us.movierecap.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_NAME=movierecap_prod
DB_USER=movierecap_user
DB_PASSWORD=your_secure_db_password_here
DB_PORT=5432

# Multi-region database setup
DB_PRIMARY_HOST=db-primary.us-east-1.rds.amazonaws.com
DB_REPLICA_HOST=db-replica.us-east-1.rds.amazonaws.com
DB_CONNECTION_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# ============================================================================
# REDIS CONFIGURATION  
# ============================================================================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_PORT=6379
REDIS_CLUSTER_ENABLED=true

# Redis cluster nodes for high availability
REDIS_CLUSTER_NODES=redis-001.cache.amazonaws.com:6379,redis-002.cache.amazonaws.com:6379,redis-003.cache.amazonaws.com:6379

# ============================================================================
# APPLICATION SECURITY
# ============================================================================
SECRET_KEY=your_256_bit_secret_key_here_must_be_very_secure_and_random_generated
JWT_SECRET_KEY=another_256_bit_secret_for_jwt_tokens_different_from_above

# CORS configuration for multi-region
ALLOWED_ORIGINS=https://movierecap.com,https://www.movierecap.com,https://us.movierecap.com,https://eu.movierecap.com,https://ap.movierecap.com

# ============================================================================
# CDN & STORAGE CONFIGURATION
# ============================================================================

# AWS S3/CloudFront Configuration
S3_BUCKET=movierecap-storage-us-east-1
S3_REGION=us-east-1
S3_ACCESS_KEY=your_aws_access_key_here
S3_SECRET_KEY=your_aws_secret_key_here
S3_ENDPOINT_URL=https://s3.us-east-1.amazonaws.com

# CloudFront CDN
CDN_URL=https://d1234567890.cloudfront.net
CDN_REGION=us-east-1

# Alternative: Azure CDN
# AZURE_STORAGE_ACCOUNT=movierecapstorageuseast
# AZURE_STORAGE_KEY=your_azure_storage_key_here
# AZURE_CDN_URL=https://movierecap.azureedge.net

# Alternative: Google Cloud CDN
# GCP_STORAGE_BUCKET=movierecap-storage-us-central1
# GCP_CDN_URL=https://storage.googleapis.com/movierecap-storage-us-central1

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Grafana Configuration
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password_here

# Prometheus metrics
PROMETHEUS_RETENTION=30d

# Log retention
LOG_RETENTION_DAYS=30

# Sentry for error tracking
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Email service (SendGrid, AWS SES, etc.)
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your_sendgrid_api_key_here
EMAIL_FROM=noreply@movierecap.com

# SMS service for 2FA
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Payment processing
STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# ============================================================================
# GEOLOCATION & SECURITY
# ============================================================================

# MaxMind GeoIP
MAXMIND_LICENSE_KEY=your_maxmind_license_key_here
MAXMIND_ACCOUNT_ID=your_maxmind_account_id

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE=redis

# DDoS protection
DDOS_PROTECTION_ENABLED=true
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Machine Learning features
ML_UPSCALING_ENABLED=true
ML_CONTENT_MODERATION_ENABLED=true
ML_AUTO_TRANSCRIPTION_ENABLED=true

# Advanced features
REAL_TIME_COLLABORATION_ENABLED=true
VIDEO_STREAMING_ENABLED=true
API_RATE_LIMITING_ENABLED=true

# ============================================================================
# SCALING CONFIGURATION
# ============================================================================

# Auto-scaling settings
MIN_BACKEND_REPLICAS=3
MAX_BACKEND_REPLICAS=20
MIN_WORKER_REPLICAS=2
MAX_WORKER_REPLICAS=50

# Load balancer configuration
LOAD_BALANCER_ALGORITHM=round_robin
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================

# Database backups
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30

# File storage backups
STORAGE_BACKUP_ENABLED=true
STORAGE_BACKUP_SCHEDULE=0 3 * * *  # Daily at 3 AM
STORAGE_BACKUP_RETENTION_DAYS=90

# Cross-region replication
CROSS_REGION_REPLICATION_ENABLED=true
BACKUP_REGION=us-west-2

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================

# Caching
REDIS_CACHE_TTL=3600
APPLICATION_CACHE_ENABLED=true
CDN_CACHE_TTL=86400

# Database optimization
DB_QUERY_CACHE_ENABLED=true
DB_CONNECTION_TIMEOUT=30
DB_STATEMENT_TIMEOUT=60

# File processing
MAX_CONCURRENT_JOBS=10
MAX_FILE_SIZE=12GB
PROCESSING_TIMEOUT=7200  # 2 hours

# ============================================================================
# COMPLIANCE & PRIVACY
# ============================================================================

# GDPR compliance
GDPR_MODE=true
DATA_RETENTION_DAYS=1095  # 3 years
ANONYMIZATION_ENABLED=true

# Privacy settings
ANALYTICS_ENABLED=true
COOKIE_CONSENT_REQUIRED=true
DATA_ENCRYPTION_ENABLED=true

# Audit logging
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years

# ============================================================================
# MINIO (for local development/testing)
# ============================================================================
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123